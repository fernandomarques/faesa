<!doctype html>
<html lang="pt">

<head>
	<meta charset="utf-8">

	<title>TP2</title>

	<meta name="author" content="Fernando Antonio Marques Filho">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="stylesheet" href="../css/reveal.css">
	<link rel="stylesheet" href="../css/misc.css">
	<link rel="stylesheet" href="../css/theme/sky.css" id="theme">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="../lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
	var link = document.createElement( 'link' );
	link.rel = 'stylesheet';
	link.type = 'text/css';
	link.href = window.location.search.match( /print-pdf/gi ) ? '../css/print/pdf.css' : '../css/print/paper.css';
	document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>

	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
</head>
<body>
	<div class="reveal">
		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
			<section>
				<h3>Arquivos</h3>
				<p>
					<small>Created by Fernando Marques </small>
				</p>
			</section>
			<section>
				<h3>Arquivos</h3>
				<ul>
					<li >Arquivo</li>
					<li >Periféricos e Stream</li>
					<li >Processamento básico</li>
					<li >Tipos de abertura de arquivos</li>
				</ul>
			</section>
			<section>
				<h3>Arquivos</h3>
				<ul>
					<li class="">Onde ficam armazenadas as variáveis que declaramos?</li>
					<li class="">Ao fechar o programa, todos dados são perdidos</li>
					<li class="">Também lemos sempre do terminal</li>
					<li class="">Em C, arquivos são uma sequência de bytes</li>
					<li class="">Podemos considerar arquivos como input (entrada) ou output (saída)</li>
				</ul>
			</section>
			<section>
				<h3>Periféricos e Stream</h3>
				<ul>
					<li class="">Dados de entrada podem ser fornecidos por periféricos como: teclado, mouse, leitor de barra e etc</li>
					<li class="">Dados de saída podem ser enviados para usuário por monitor, arquivo, impressora e etc.</li>
					<li class="">Todas as entradas e saídas em C são tratadas como streams</li>
					<li class="">Ou seja, um conjunto de bytes sem estrutura</li>
					<li class="">Podemos dizer que é device-independent, pois a representação é a mesma para qualquer dispositivo</li>
				</ul>
			</section>
			<section>
				<h3>Processamento básico</h3>
				<ul>
					<li class="">O primeiro passo para trabalhar com arquivo é 'abrir o arquivo'</li>
					<li class="">Depois de abrir o arquivo podemos realizar as operações</li>
					<li class="">Ler, Escrever e posicionar ao longo do arquivo</li>
					<li class="">Depois de completar as operações no arquivo, devemos fechar-lo</li>
				</ul>
			</section>
			<section>
				<h3>Abertura de arquivos</h3>
				<ul>
					<li class="">Antes de abrir o arquivo temos que declarar a variável que vai salvar a referência a ele</li>
					<li class="">FILE *fp;</li>
					<li class="">Para abrir o arquivo chamamos a função fopen que recebe dois parâmetros</li>
					<li class="">1: Nome do arquivo. Exemplo test.txt</li>
					<li class="">2: Modo de abertura do arquivo</li>
					<li class="">Para colocar o nome do arquivo com '\' temos que usar dois '\\'</li>
					<pre><code>int main(){
   FILE* fp = fopen("test.txt","r");
					}</code></pre>
				</ul>
			</section>
			<section>
				<h3>Tipos de abertura de arquivos</h3>
				<ul>
					<li class="">O segundo parâmetro de abertura de arquivo é o tipo de abertura</li>
					<li class="">"r": read. Abre o arquivo para leitura</li>
					<li class="">"w": write. Abre o arquivo para escrita, se já existe um arquivo com esse nome, o antigo é apagado.</li>
					<li class="">"a": append. Abre o arquivo para acrescentar, não apagando o arquivo já existente</li>
					<li class="">Podemos adicionar um + ex "r+" para permitir fazer leitura e escrita</li>
					<li class="">A função fopen retorna NULL se por algum motivo o arquivo não for aberto</li>
				</ul>
			</section>
			<section>
				<h3>Fechando um arquivo</h3>
				<ul>
					<li class="">Antes de fechar o arquivo, é salvo toda a informação que ainda estiver em buffer</li>
					<li class="">Para fechar o arquivo devemos chamar fclose(fp)</li>
					<li class="">Apesar de o arquivo ser fechado quando o programa termina, é sempre uma boa prática fechar o arquivo</li>
					<li class="">Existe uma função que força gravar tudo que estiver em buffer fflush(fp)</li>
					<li class="">Também podemos usar a fflush para limpar o terminal: fflush(stdin)</li>
					<li class="">Para fechar todos os arquivos abertos podemos chamar fcloseall();</li>
				</ul>
			</section>
			<section>
				<h3>Lendo um arquivo e escrevendo na tela</h3>
				<ul>
					<li class=""><pre><code>#include &ltstdio.h&gt
int main(int argc, char *argv[]){
	FILE *fp;
	int ch;
	// Testar se foi recebido um nome de arquivo
	if (argc !=2){
		printf("Número inválido de parâmetros");
		exit(1);
	}
	fp = fopen(argv[1],"r");
	if(fp == NULL){
		printf("Não foi possível abrir o arquivo %s",argv[1]);
	}
	while((ch=fgetc(fp))!= EOF){
		putchar(ch);
	}
	fclose(fp);
}</code></pre></li>
				</ul>
			</section>
			<section>
				<ul>
					<li>Faça um código que leia vários caracteres e os converta para maiúsculo antes de imprimir</li>
					<li>Faça um código que escreva o seu nome em um arquivo! <i>Mude o fopen e use fputc(fp,ch)</i></li>
					<li>Mude o parâmetro de 'w' para 'a'. Veja a diferença</li>
					<li>Faça um código que leia varias notas (de 0 a 5) e calcule a média entre elas</li>
				</ul>
			</section>
			</div>
		</div>

		<script src="../lib/js/head.min.js"></script>
		<script src="../js/reveal.js"></script>

		<script>

		// Full list of configuration options available at:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls: true,
			progress: true,
			history: true,
			center: true,

			transition: 'slide', // none/fade/slide/convex/concave/zoom

			// Optional reveal.js plugins
			dependencies: [
				{ src: '../lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: '../plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: '../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: '../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: '../plugin/zoom-js/zoom.js', async: true },
				{ src: '../plugin/notes/notes.js', async: true }
			]
		});
		Reveal.configure({
			keyboard: {
				38: 'next',
				40: 'prev'
			}
		});
		</script>

	</body>
	</html>
